<app-task-navbar></app-task-navbar>
<div class="container">
  <form #f="ngForm" novalidate (ngSubmit)="onSubmit(f, todo, doing, done)">
    <div  [ngClass]=" getFormGroupClass(tarefa.valid, tarefa.pristine)">
      <label for="tarefa" class="form-control-label">Tarefa</label>
      <input type="text" name="tarefa" id="tarefa"
      [(ngModel)]="task.tarefa"
      [ngClass]="getFormControlClass(tarefa.valid, tarefa.pristine)"
      #tarefa="ngModel"
      required >
      <div class="form-control-feedback" [hidden]="tarefa.valid || tarefa.pristine">Este campo é obrigatório</div>
    </div>
    <div  [ngClass]=" getFormGroupClass(descricao.valid, descricao.pristine)">
      <label for="descricao">Descricao</label>
      <textarea wrap="off" cols="30" rows="5" class="form-control" name="descricao" id="descricao"
      [(ngModel)]="task.descricao"
      [ngClass]="getFormControlClass(descricao.valid, descricao.pristine)"
      #descricao="ngModel"
      required
      ></textarea>
      <div class="form-control-feedback" [hidden]="descricao.valid || descricao.pristine">Este campo é obrigatório</div>
    </div>
    <div class="form-group">
      <label for="">Cor do postite:</label>
      <input type="color" name="color" 
      [(ngModel)]="task.color"
      >
    </div>
    <div [ngClass]="getFormGroupClass(step.valid, step.pristine)">
      <div class="inp-r"> 
        <p>Estado da tarefa</p>
        <input #todo #step type="radio" [value]="1"  [checked]="(task.state === 1)" class="radio" id="todo"
         name="step"
         [(ngModel)]="task.state"
        required
         >
        <label for="todo" >todo</label>
        <input #doing #step type="radio" name="step" [value]="2" [checked]="(task.state === 2)" class="radio" id="doing"
        [(ngModel)]="task.state"
        required
        >
        <label for="doing">doing</label>
        <input #done #step type="radio" name="step" [value]="3" [checked]="(task.state === 3)" class="radio" id="done"
        [(ngModel)]="task.state"
        required
        >
        
        <label for="done">done</label>
      </div>
    </div>
    <div class="buttons">
        <button class="bt-save" type="submit" [disabled]="!f.form.valid">Save</button>
        <button type="button" class="bt-backward"  (click)="goBack()">Voltar</button>
    </div>
    
  </form>
</div>